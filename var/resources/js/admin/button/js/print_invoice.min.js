function openPrintInvoiceWindow(params,elem){var url=URLHandler.buildURL(params);jQuery(elem).addClass('suspended');if(jQuery('#iframe-invoice').length)jQuery('#iframe-invoice').remove();jQuery("<iframe id='iframe-invoice' name='invoice' style='height: 0px; width: 0px;' src='"+url+"' />").appendTo('body');jQuery('#iframe-invoice').load(function(){jQuery(elem).removeClass('suspended');window.frames['invoice'].focus();window.frames['invoice'].print()})};jQuery().ready(function(){jQuery('button.print-invoice').click(function(){var elem=this;openPrintInvoiceWindow(core.getCommentedData(elem,'url_params'),elem)});jQuery('button.print-invoices').click(function(){if(jQuery(this).hasClass('disabled'))return;var elem=this,params=core.getCommentedData(elem,'url_params'),selectors=jQuery('.items-list.orders table.list .selector.checked input[type="checkbox"].selector');for(var i=0;i<selectors.length;i++){var prefix='';if(params.order_ids)prefix=',';params.order_ids=params.order_ids+prefix+selectors[i].name.replace(/select\[(\d+)\]/,'$1')};openPrintInvoiceWindow(params,elem)})})