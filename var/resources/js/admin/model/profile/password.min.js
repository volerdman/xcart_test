CommonElement.prototype.handlers.push({pattern:'input#password-current',canApply:function(){return this.$element.is('#password-current')},handler:function(){var form=this.getForm().$form,passwordElement=$('#password',form),emailElement=$('#login',form),element=this,handler=function(){var password=passwordElement.get(0),email=emailElement.get(0),emailTheSame=email.initialValue===email.value&&!emailElement.closest('.table-value').hasClass('has-diff-saved-value'),passwordTheSame=password.initialValue===password.value&&!passwordElement.closest('.table-value').hasClass('has-diff-saved-value');element.$element.closest('li.input').toggleClass('hidden',passwordTheSame&&emailTheSame);passwordElement.closest('li.input').toggleClass('hidden',!emailTheSame);emailElement.prop('readonly',!passwordTheSame);emailElement.parents('.edit-on-click-field').toggleClass('editable',passwordTheSame)};passwordElement.keyup(handler).bind('change',handler).bind('paste',handler);emailElement.keyup(handler).bind('change',handler).bind('paste',handler);handler()}})